"use strict";(self.webpackChunkfinalpro=self.webpackChunkfinalpro||[]).push([[304],{2304:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(9060);var l=t(7332),i=t(2024),n=t(12),c=t(496),d=t(2496);function r(){var e,a,t,r;c.S;const[o,m]=(0,s.useState)(null),[u,h]=(0,s.useState)(!0);let{getProdect:x,deleteProdect:p,updateProdect:v,dletAllProdect:j,setUserCountCart:f,checkOutSessionorder:b}=(0,s.useContext)(l.y);async function N(){let{data:e}=await x();f(null===e||void 0===e?void 0:e.numOfCartItems)}async function w(e,a){if(a<1){let{data:a}=await p(e);m(a),N()}else{let{data:t}=await v(e,a);m(t),N()}}return(0,s.useEffect)((()=>{!async function(){let{data:e}=await x();null!=e?(m(e),N(),h(!1)):h(!1)}()}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"bg-main-light  mt-4 p-3",children:[(0,d.jsx)("h2",{className:"text-center",children:"Cart"}),u?(0,d.jsx)("div",{className:"m-auto h-100",children:(0,d.jsx)(i.IL,{height:"90",width:"90",color:"#4fa94d",ariaLabel:"bars-loading",wrapperStyle:{},wrapperClass:" w-100 text-center my-5 m-auto ",visible:!0})}):(0,d.jsx)("div",{className:"row ",children:null!==o&&void 0!==o&&o.data?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"row m-0 p-2 border-2 border-bottom align-items-center",children:[(0,d.jsxs)("div",{className:"col-md-10",children:[(0,d.jsxs)("p",{className:"text-main",children:["numOfCartItems :",null===o||void 0===o?void 0:o.numOfCartItems]}),(0,d.jsxs)("p",{className:"text-main",children:["totalCartPrice :",null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.totalCartPrice," EGP"]})]}),(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("button",{onClick:()=>{!async function(){h(!0);let{data:e}=await j();m(e),f("0"),h(!1)}()},className:"btn btn-danger",children:" cleer all cat"})})]}),null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.products.map((e=>(0,d.jsxs)("div",{className:"row m-0 p-2 border-2 border-bottom align-items-center",children:[(0,d.jsx)("div",{className:"col-md-1 ",children:(0,d.jsx)("div",{className:"img",children:(0,d.jsx)("img",{className:"w-100",src:e.product.imageCover,alt:e.product.title})})}),(0,d.jsx)("div",{className:"col-md-10",children:(0,d.jsxs)("div",{className:"item",children:[(0,d.jsx)("h3",{className:"h5 fw-bold",children:e.product.title.split(" ").slice(0,3).join(" ")}),(0,d.jsxs)("p",{className:"text-main",children:["price: ",e.price*e.count," EGP"]}),(0,d.jsxs)("button",{onClick:()=>async function(e){h(!0);let{data:a}=await p(e);null!=a&&(m(a),N(),h(!1))}(e.product.id),className:"btn",children:[(0,d.jsx)("i",{className:"fa-solid fa-trash-can text-danger"})," Removes"]})]})}),(0,d.jsx)("div",{className:"col-md-1",children:(0,d.jsxs)("div",{className:"count bg-light justify-content-between",children:[(0,d.jsx)("button",{onClick:()=>{w(e.product.id,e.count+1)},className:"btn py-0 bord-min px-1",children:"+"}),(0,d.jsx)("span",{className:"mx-2",children:e.count}),(0,d.jsx)("button",{onClick:()=>{w(e.product.id,e.count-1)},className:"btn py-0 bord-min px-1",children:"-"})]})})]},e.product.id))),(0,d.jsxs)(n.cH,{to:"/shippingAddres/".concat(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t._id),className:"btn bg-main m-2 text-white w-25 ",children:[" ",(0,d.jsx)("i",{className:"fa-solid fa-credit-card"})," go payment onLIne "]}),(0,d.jsxs)(n.cH,{to:"/shippingAddresoffLine/".concat(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r._id),className:"btn bg-secondary m-2 text-white w-25",children:[" ",(0,d.jsx)("i",{className:"fa-solid fa-wallet"})," go payment offline "]})]}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"alert alert-warning text-center ",children:["You haven't shopped yet, what are you waiting for? \ud83d\ude20 ",(0,d.jsx)(n.cH,{to:"/",children:" PRODACT"})]})})})]})})}}}]);
//# sourceMappingURL=304.a636b02b.chunk.js.map