"use strict";(self.webpackChunkfinalpro=self.webpackChunkfinalpro||[]).push([[308],{1308:(s,e,r)=>{r.r(e),r.d(e,{default:()=>h});var a=r(9060);var o=r(2622),d=r(4568),l=r(8372),n=r(2024),t=r(1560),c=r(4320),i=r(6756),u=r(2496);function h(){let{userToken:s,setUserToken:e}=(0,a.useContext)(i.U),r={token:localStorage.getItem("token")},h=(0,t.i6)();const[p,m]=(0,a.useState)(!1),[w,g]=(0,a.useState)("");let x=d.kt({currentPassword:d.Qb().required(" currentPassword is repuird").matches(/^[A-Z][\w @]{5,8}/,"invaled password"),password:d.Qb().required(" password is repuird").matches(/^[A-Z][\w @]{5,8}/,"invaled password"),rePassword:d.Qb().required(" repassword is repuird").oneOf([d.IL("password")],"password is not match")}),j=(0,o.KO)({initialValues:{currentPassword:"",password:"",rePassword:""},validationSchema:x,onSubmit:async function(s){m(!0);let{data:a}=await l.c.put("https://ecommerce.routemisr.com/api/v1/users/changeMyPassword",{values:s},{headers:r}).catch((s=>{g(s.response.data.message),m(!1)}));"success"==a.message&&(m(!1),c.cp.success("you Change Password"),e(a.token),h("/"))}});return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col-md-9 mx-auto py-4",children:[(0,u.jsx)("h2",{className:"text-center",children:"Change My Password"}),w?(0,u.jsx)("div",{className:"alert alert-danger py-2 ",children:w}):"",(0,u.jsxs)("form",{action:"",onSubmit:j.handleSubmit,children:[(0,u.jsxs)("div",{className:"form-group my-3",children:[(0,u.jsx)("label",{htmlFor:"name",children:"Current Password "}),(0,u.jsx)("input",{onChange:j.handleChange,onBlur:j.handleBlur,type:"password",className:"form-control",id:"currentPassword",placeholder:"Enter currentPassword"}),j.errors.currentPassword&&j.touched.currentPassword?(0,u.jsx)("div",{className:"alert alert-danger py-2",children:j.errors.currentPassword}):null]}),(0,u.jsxs)("div",{className:"form-group my-3 ",children:[(0,u.jsx)("label",{htmlFor:"email",children:"Password "}),(0,u.jsx)("input",{onChange:j.handleChange,onBlur:j.handleBlur,type:"password",className:"form-control",id:"password",placeholder:"Enter password"}),j.errors.password&&j.touched.password?(0,u.jsx)("div",{className:"alert alert-danger py-2",children:j.errors.password}):null]}),(0,u.jsxs)("div",{className:"form-group my-3 ",children:[(0,u.jsx)("label",{htmlFor:"phone",children:"RE Password "}),(0,u.jsx)("input",{onChange:j.handleChange,onBlur:j.handleBlur,type:"password",className:"form-control",id:"rePassword",placeholder:"Enter RE passowerd"}),j.errors.rePassword&&j.touched.rePassword?(0,u.jsx)("div",{className:"alert alert-danger py-2",children:j.errors.rePassword}):null]}),p?(0,u.jsx)(n.IL,{height:"40",width:"40",color:"#4fa94d",ariaLabel:"bars-loading",wrapperStyle:{},wrapperClass:"",visible:!0}):(0,u.jsx)("button",{disabled:!(j.dirty&&j.isValid),className:"btn bg-main text-light",type:"submit",children:" Update Me "})]})]})})})}}}]);
//# sourceMappingURL=308.b4a404f8.chunk.js.map