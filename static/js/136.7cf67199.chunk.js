"use strict";(self.webpackChunkfinalpro=self.webpackChunkfinalpro||[]).push([[136],{7136:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var r=a(9060);var l=a(2622),t=a(4568),i=a(8372),o=a(2024),n=a(1560),d=a(12),c=a(6756),m=a(2496);function h(){let e=(0,n.i6)();const[s,a]=(0,r.useState)(!1),[h,p]=(0,r.useState)("");let{setUserToken:u}=(0,r.useContext)(c.U);let g=t.kt({email:t.Qb().required(" email is repuird").email(" email is not valed "),password:t.Qb().required(" password is repuird").matches(/^[A-Z][\w @]{5,8}/,"invaled password")}),w=(0,l.KO)({initialValues:{email:"",password:""},validationSchema:g,onSubmit:async function(s){a(!0);let{data:r}=await i.c.post("https://ecommerce.routemisr.com/api/v1/auth/signin",s).catch((e=>{p(e.response.data.message),a(!1)}));"success"==r.message&&(a(!1),localStorage.setItem("token",r.token),u(r.token),e("/"))}});return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col-md-9 mx-auto py-4",children:[(0,m.jsx)("h2",{className:"text-center",children:"Login Now"}),h?(0,m.jsx)("div",{className:"alert alert-danger py-2 ",children:h}):"",(0,m.jsxs)("form",{action:"",onSubmit:w.handleSubmit,children:[(0,m.jsxs)("div",{className:"form-group my-3 ",children:[(0,m.jsx)("label",{htmlFor:"email",children:"Email "}),(0,m.jsx)("input",{onChange:w.handleChange,onBlur:w.handleBlur,type:"email",className:"form-control",id:"email",placeholder:"Enter email"}),w.errors.email&&w.touched.email?(0,m.jsx)("div",{className:"alert alert-danger py-2",children:w.errors.email}):null]}),(0,m.jsxs)("div",{className:"form-group my-3 ",children:[(0,m.jsx)("label",{htmlFor:"password",children:"Password "}),(0,m.jsx)("input",{onChange:w.handleChange,onBlur:w.handleBlur,type:"password",className:"form-control",id:"password",placeholder:"Enter password"}),w.errors.password&&w.touched.password?(0,m.jsx)("div",{className:"alert alert-danger py-2",children:w.errors.password}):null]}),s?(0,m.jsx)(o.IL,{height:"40",width:"40",color:"#4fa94d",ariaLabel:"bars-loading",wrapperStyle:{},wrapperClass:"",visible:!0}):(0,m.jsx)("button",{disabled:!(w.dirty&&w.isValid),className:"btn bg-main text-light",type:"submit",children:" submit "}),(0,m.jsx)(d.cH,{className:"ps-5",to:"/register",children:" regester "}),(0,m.jsx)(d.cH,{className:"ms-5 h6",to:"/forgotPasswords",children:" Forgot Passwords?  "})]})]})})})}}}]);
//# sourceMappingURL=136.7cf67199.chunk.js.map