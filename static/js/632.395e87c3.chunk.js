"use strict";(self.webpackChunkfinalpro=self.webpackChunkfinalpro||[]).push([[632],{3632:(e,a,l)=>{l.r(a),l.d(a,{default:()=>c});var r=l(9060);var n=l(2622),s=l(4568),t=l(8372),i=l(2024),m=l(1560),o=l(6756),d=l(2496);function c(){let{userToken:e,setUserToken:a}=(0,r.useContext)(o.U);let l=(0,m.i6)(),c={token:localStorage.getItem("token")};const[h,u]=(0,r.useState)(!1),[p,x]=(0,r.useState)("");let g=s.kt({name:s.Qb().required(" name is repuird").min(3," name must be minem 3 ").max(20,"name must be maxm 20"),email:s.Qb().required(" email is repuird").email(" email is not valed "),phone:s.Qb().required(" phone is repuird").matches(/^01[0125][0-9]{8}$/,"Enter egipt Numper")}),b=(0,n.KO)({initialValues:{name:"",email:"",phone:""},validationSchema:g,onSubmit:async function(e){u(!0);let{data:r}=await t.c.put("https://ecommerce.routemisr.com/api/v1/users/updateMe/",{values:e},{headers:c}).catch((e=>{x(e.response.data.message),u(!1)}));"success"==r.message&&(u(!1),localStorage.removeItem("token"),a(null),l("/login"))}});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col-md-9 mx-auto py-4",children:[(0,d.jsx)("h2",{className:"text-center",children:"Update Me"}),p?(0,d.jsx)("div",{className:"alert alert-danger py-2 ",children:p}):"",(0,d.jsxs)("form",{action:"",onSubmit:b.handleSubmit,children:[(0,d.jsxs)("div",{className:"form-group my-3",children:[(0,d.jsx)("label",{htmlFor:"name",children:"Name "}),(0,d.jsx)("input",{onChange:b.handleChange,onBlur:b.handleBlur,type:"text",className:"form-control",id:"name",placeholder:"Enter name"}),b.errors.name&&b.touched.name?(0,d.jsx)("div",{className:"alert alert-danger py-2",children:b.errors.name}):null]}),(0,d.jsxs)("div",{className:"form-group my-3 ",children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email "}),(0,d.jsx)("input",{onChange:b.handleChange,onBlur:b.handleBlur,type:"email",className:"form-control",id:"email",placeholder:"Enter email"}),b.errors.email&&b.touched.email?(0,d.jsx)("div",{className:"alert alert-danger py-2",children:b.errors.email}):null]}),(0,d.jsxs)("div",{className:"form-group my-3 ",children:[(0,d.jsx)("label",{htmlFor:"phone",children:"Phone "}),(0,d.jsx)("input",{onChange:b.handleChange,onBlur:b.handleBlur,type:"tel",className:"form-control",id:"phone",placeholder:"Enter phone"}),b.errors.phone&&b.touched.phone?(0,d.jsx)("div",{className:"alert alert-danger py-2",children:b.errors.phone}):null]}),h?(0,d.jsx)(i.IL,{height:"40",width:"40",color:"#4fa94d",ariaLabel:"bars-loading",wrapperStyle:{},wrapperClass:"",visible:!0}):(0,d.jsx)("button",{disabled:!(b.dirty&&b.isValid),className:"btn bg-main text-light",type:"submit",children:" Update Me "})]})]})})})}}}]);
//# sourceMappingURL=632.395e87c3.chunk.js.map