{"version":3,"file":"static/js/632.395e87c3.chunk.js","mappings":"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","sources":["component/UpdateMe/UpdateMe.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport style from \"./UpdateMe.module.css\"\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\"\r\nimport axios from \"axios\";\r\nimport { Bars } from 'react-loader-spinner'\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { UserContext } from \"../../Context/UserContext\";\r\n\r\n\r\n\r\n\r\nexport default function UpdateMe () {\r\n  \r\n  let { userToken, setUserToken } = useContext(UserContext)\r\n\r\n  function logOut() {\r\n    localStorage.removeItem('token')\r\n    setUserToken(null)\r\n    Navigate('/login')\r\n  }\r\n\r\n\r\n\r\n  let Navigate =useNavigate()\r\n  let headers = {\r\n    token: localStorage.getItem('token')\r\n  }\r\n\r\n\r\n  const [loding ,setLoding ] = useState(false);\r\n  const [errorMaseg , setErrorMaseg] = useState('');\r\n\r\n\r\n\r\n  async function registerSubmunt(values) {\r\n\r\n    setLoding(true)\r\n    let {data} = await axios.put(`https://ecommerce.routemisr.com/api/v1/users/updateMe/`,  {\r\n      values\r\n  }, {\r\n      headers\r\n  })\r\n    .catch((err)=>{ \r\n      setErrorMaseg(err.response.data.message)\r\n      setLoding(false)\r\n    })\r\n\r\n\r\n    if (data.message == 'success') {\r\n      setLoding(false)\r\n      logOut()\r\n\r\n    }\r\n    \r\n  }\r\n\r\n\r\nlet validationSchema =Yup.object({\r\n      name: Yup.string().required(' name is repuird').min(3,' name must be minem 3 ').max(20,'name must be maxm 20') ,\r\n      email: Yup.string().required(' email is repuird').email(' email is not valed '),\r\n      phone:Yup.string().required(' phone is repuird').matches(/^01[0125][0-9]{8}$/ ,'Enter egipt Numper'), \r\n})\r\n\r\n\r\n let formik = useFormik({\r\n    initialValues: {\r\n      name: '',\r\n      email: '',\r\n      phone: ''\r\n    },validationSchema\r\n    , onSubmit: registerSubmunt  \r\n  })\r\n\r\n\r\n\r\n\r\n  return <>\r\n\r\n    <div className=\"row\">\r\n      <div className=\"col-md-9 mx-auto py-4\">\r\n        <h2 className=\"text-center\">Update Me</h2>\r\n        {errorMaseg? <div className=\"alert alert-danger py-2 \">{errorMaseg}</div>:''}\r\n        <form action=\"\" onSubmit={formik.handleSubmit}>\r\n\r\n        <div className=\"form-group my-3\">\r\n            <label htmlFor=\"name\">Name </label>\r\n            <input onChange={formik.handleChange} onBlur={formik.handleBlur} type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Enter name\" />\r\n            {formik.errors.name&&formik.touched.name ? <div className=\"alert alert-danger py-2\">{formik.errors.name}</div>:null}\r\n          </div>\r\n\r\n          <div className=\"form-group my-3 \">\r\n            <label htmlFor=\"email\">Email </label>\r\n            <input onChange={formik.handleChange} onBlur={formik.handleBlur} type=\"email\" className=\"form-control\" id=\"email\" placeholder=\"Enter email\" />\r\n            {formik.errors.email&&formik.touched.email ? <div className=\"alert alert-danger py-2\">{formik.errors.email}</div>:null}\r\n\r\n          </div>\r\n\r\n          <div className=\"form-group my-3 \">\r\n            <label htmlFor=\"phone\">Phone </label>\r\n            <input onChange={formik.handleChange} onBlur={formik.handleBlur} type=\"tel\" className=\"form-control\" id=\"phone\" placeholder=\"Enter phone\" />\r\n            {formik.errors.phone&&formik.touched.phone ? <div className=\"alert alert-danger py-2\">{formik.errors.phone}</div>:null}\r\n          </div>\r\n          \r\n          {loding?\r\n          <Bars\r\n          height=\"40\"\r\n          width=\"40\"\r\n          color=\"#4fa94d\"\r\n          ariaLabel=\"bars-loading\"\r\n          wrapperStyle={{}}\r\n          wrapperClass=\"\"\r\n          visible={true}\r\n/>\r\n          :<button disabled={!(formik.dirty && formik.isValid )} className=\"btn bg-main text-light\" type=\"submit\"> Update Me </button>\r\n          \r\n          \r\n          }\r\n          \r\n        </form>\r\n\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </>\r\n}"],"names":["UpdateMe","userToken","setUserToken","useContext","UserContext","Navigate","useNavigate","headers","token","localStorage","getItem","loding","setLoding","useState","errorMaseg","setErrorMaseg","validationSchema","Yup","name","required","min","max","email","phone","matches","formik","useFormik","initialValues","onSubmit","async","values","data","axios","put","catch","err","response","message","removeItem","_jsx","_Fragment","children","className","_jsxs","action","handleSubmit","htmlFor","onChange","handleChange","onBlur","handleBlur","type","id","placeholder","errors","touched","Bars","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","disabled","dirty","isValid"],"sourceRoot":""}